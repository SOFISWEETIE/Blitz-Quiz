<!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€ COMPONENTES DE PREGUNTA SEGÃšN EL MODO â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

<!-- Componente para el modo ClÃ¡sico y Aleatorio -->
<!-- Solo se muestra si el modo no es rÃ¡pidas -->
<app-pregunta 
  *ngIf="seleccion.modo !== 'rapidas'" 
  [pregunta]="preguntaActual()" 
  (siguiente)="avanzarPregunta($event)">
</app-pregunta>

<!-- Componente para el modo RÃ¡pidas -->
<!-- Solo se muestra si el modo de juego es rÃ¡pidas -->
<app-pregunta-rapidas 
  *ngIf="seleccion.modo === 'rapidas'"
  [pregunta]="preguntaActualRapida()"
  [numeroPregunta]="indiceRapida + 1"
  (siguiente)="avanzarRapida($event)">
</app-pregunta-rapidas>

<!-- MODAL DE CONFIRMACIÃ“N DE SALIDA -->
<!-- Se muestra cuando el jugador intenta salir del juego -->
<div class="modal-salir" *ngIf="mostrarModalSalir">

  <!-- Contenido central del modal -->
  <div class="modal-contenido">
    <!-- TÃ­tulo del modal -->
    <h3>Â¿Seguro que quieres salir?</h3>
    <!-- InformaciÃ³n del progreso actual del jugador -->
    <p>Si sales ahora, perderÃ¡s el progreso: {{ numeroPregunta() - 1 }} de {{ totalPreguntas() }} preguntas respondidas</p>
    
    <!-- Barra de progreso visual dentro del modal -->
    <div class="progreso-salir">
      <div class="barra-fondo-modal">
        <!-- Barra que se llena proporcional al nÃºmero de respuestas correctas -->
        <div class="barra-llenado-modal" [style.width.%]="(puntuacion.correctas / puntuacion.totalPreguntas) * 100"></div>
      </div>
      <!-- Texto que indica el nÃºmero de aciertos -->
      <p>{{ puntuacion.correctas }} de {{ puntuacion.totalPreguntas }} correctas</p>
    </div>
    
    <!-- Botones de acciÃ³n del modal -->
    <div class="modal-botones">
      <!-- Confirma la salida del juego -->
      <button class="btn-confirmar" (click)="confirmarSalir()">SÃ­, salir</button>
      <!-- Cancela la salida y mantiene el jugador en el juego -->
      <button class="btn-cancelar" (click)="cancelarSalir()">Cancelar</button>
    </div>
  </div>
</div>

<!-- NotificaciÃ³n tipo toast que aparece al desbloquear un logro -->
<div class="toast-logro" *ngIf="logroDesbloqueado">
  ðŸŽ‰ Â¡Logro desbloqueado! <br>
  <strong>{{ logroDesbloqueado }}</strong>
</div>
